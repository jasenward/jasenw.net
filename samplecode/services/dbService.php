<?php/* * This entry point loads the sample service class and passes the data sent * to it to that class for processing and then finally echoes a response to be * consumed by the service user. * * @author Jasen Ward, jasenward@gmail.com *///Instantiate service and connectionrequire($_SERVER['DOCUMENT_ROOT'] . '/samplecode/controllers/dbController.php');$project= new dbController();$connResponse = $project->main();$received=$project->parseData();//Initialize data arrayif($project->properties['errorState']){    $response=array(        'rcdt'=> $project->dataType,        'received'=> $received['data'],        'init'=> $project->properties['instance'],        'conn'=> $connResponse['message'],        'vald'=> $received['message'],        'prt1'=> "No action query executed.",        'prt2'=> "No select query executed.",        'prt3'=> "No response data to parse.",        'exit'=> $project->properties['errorState'] ? "Complete":"Error",    );}else{    //query database    $doit=$project->queryDB(2,$received);    $getit=$project->queryDB(1,null);    //define response    $response=array(        'rcdt'=> $project->dataType,        'received'=> $received,        'init'=> "Starting Service instance [". $project->versionProperties['instance']. "].",        'conn'=> $connResponse['message'],        'vald'=> $received['message'],        'prt1'=> "Query Database Executed: ". $doit['message'],        'prt2'=> "Query Database Executed: ". $getit['message'],        'prt3'=> $getit['dataOut'],        'exit'=> $project->properties['errorState'] ? "Complete":"Error"    );    //close connection and reset    $project->closeMe();}//stringify response for output$strResponse = json_encode($response);echo $strResponse;