<?php/*  * This entry point loads the sample service class and passes the data sent  * to it to that class for processing and then finally echoes a response to be  * consumed by the service user. *  * @author Jasen Ward, jasenward@gmail.com *///Instantiate service and connectionrequire_once ($_SERVER['DOCUMENT_ROOT'].'/samplecode/controllers/pifController.php');$project= new pifController();//Purge Cache$project->purgeCache();//Initializde data array$rcvd=$project->parseData('PIF');error_log("Received Data: ".print_r($rcvd,true));$data= array_key_exists('value', $rcvd['data'][0]) ? $rcvd['data'][0]['value']:'default';//Call Service Entry Pointif($rcvd['result']){    error_log("Calling Full Contact with [".$data."]");    $reply = $project->callFullContact($data);}else{    error_log("Dumping response to parse data [".print_r($rcvd,true)."]");    $reply['src']='https://www.jasenw.net/samplecode/images/genericSearchImage.png';    $reply['message']='There was a problem validating the email sent.';}//Clost connection and reset.$project->closeMe();$response=array(    'rcdt'=> $project->dataType,    'received'=> $rcvd,    'init'=> "Calling Profile Image Finder [". $project->properties['instanceID']. "].",    'pifAppReply'=> $reply['src'],    'message'=>$reply['message'],    'exit'=> "Closing Connection: ");$strResponse = json_encode($response);//Echo application reply to the uiecho $strResponse;